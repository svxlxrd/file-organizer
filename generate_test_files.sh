#!/bin/bash

# Определяем расширения файлов по категориям
IMAGES=(".jpg" ".jpeg" ".png")  # Расширения для изображений
DOCUMENTS=(".pdf" ".doc" ".docx" ".txt")  # Расширения для документов
MUSIC=(".mp3" ".wav")  # Расширения для аудиофайлов
VIDEO=(".mp4" ".avi")  # Расширения для видеофайлов
ARCHIVES=(".zip" ".rar")  # Расширения для архивов

# Объединяем все расширения в один массив для удобного доступа
ALL_EXTENSIONS=("${IMAGES[@]}" "${DOCUMENTS[@]}" "${MUSIC[@]}" "${VIDEO[@]}" "${ARCHIVES[@]}")

# Создаем директорию для хранения сгенерированных файлов
# Флаг -p позволяет создать директорию, если она не существует
mkdir -p generated_files
# Переходим в созданную директорию
cd generated_files

# Функция для генерации случайного имени файла
generate_random_name() {
    # Определяем случайную длину имени от 5 до 15 символов
    local length=$((5 + RANDOM % 10))
    local name=""
    # Набор символов для формирования имени
    local chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    
    # Генерируем имя по одному символу за раз
    for ((i=0; i<length; i++)); do
        # Выбираем случайный индекс из набора допустимых символов
        local rand_index=$((RANDOM % ${#chars}))
        # Добавляем выбранный символ к имени
        name="${name}${chars:$rand_index:1}"
    done
    
    # Возвращаем сгенерированное имя
    echo "$name"
}

# Начинаем генерацию примерно 100 файлов
echo "Генерация файлов..."

# Цикл для создания 100 файлов
for ((i=1; i<=100; i++)); do
    # Выбираем случайное расширение из всех доступных
    ext_index=$((RANDOM % ${#ALL_EXTENSIONS[@]}))
    extension="${ALL_EXTENSIONS[$ext_index]}"
    
    # Генерируем случайное имя файла и добавляем к нему выбранное расширение
    filename="$(generate_random_name)$extension"
    
    # Создаем пустой файл с полученным именем и расширением
    # Команда touch создает пустой файл или обновляет дату изменения существующего
    touch "$filename"
    
    # Выводим информацию о созданном файле
    echo "Создан файл: $filename"
done

# Выводим сообщение о завершении и показываем путь к директории с файлами
echo "Сгенерировано 100 файлов в каталоге $(pwd)" 